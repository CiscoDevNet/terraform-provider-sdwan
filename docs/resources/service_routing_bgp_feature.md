---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sdwan_service_routing_bgp_feature Resource - terraform-provider-sdwan"
subcategory: "Features - Service"
description: |-
  This resource can manage a Service Routing BGP Feature.
  Minimum SD-WAN Manager version: 20.12.0
---

# sdwan_service_routing_bgp_feature (Resource)

This resource can manage a Service Routing BGP Feature.
  - Minimum SD-WAN Manager version: `20.12.0`

## Example Usage

```terraform
resource "sdwan_service_routing_bgp_feature" "example" {
  name                     = "Example"
  description              = "My Example"
  feature_profile_id       = "f6dd22c8-0b4f-496c-9a0b-6813d1f8b8ac"
  as_number                = 429
  router_id                = "1.2.3.4"
  propagate_as_path        = false
  propagate_community      = false
  external_routes_distance = 20
  internal_routes_distance = 200
  local_routes_distance    = 20
  keepalive_time           = 60
  hold_time                = 180
  always_compare_med       = false
  deterministic_med        = false
  missing_med_as_worst     = false
  compare_router_id        = false
  multipath_relax          = false
  ipv4_neighbors = [
    {
      address                 = "1.2.3.4"
      description             = "neighbor1"
      shutdown                = false
      remote_as               = 200
      local_as                = 200
      keepalive_time          = 40
      hold_time               = 200
      update_source_interface = "GigabitEthernet0"
      next_hop_self           = false
      send_community          = true
      send_extended_community = true
      ebgp_multihop           = 1
      password                = "myPassword"
      send_label              = true
      as_override             = false
      allowas_in_number       = 1
      address_families = [
        {
          family_type                    = "ipv4-unicast"
          policy_type                    = "restart"
          restart_max_number_of_prefixes = 2000
          restart_threshold              = 75
          restart_interval               = 30
        }
      ]
    }
  ]
  ipv6_neighbors = [
    {
      address                 = "2001::1"
      description             = "neighbor2"
      shutdown                = false
      remote_as               = 200
      local_as                = 200
      keepalive_time          = 180
      hold_time               = 60
      update_source_interface = "Loopback1"
      next_hop_self           = true
      send_community          = true
      send_extended_community = true
      ebgp_multihop           = 3
      password                = "myPassword"
      as_override             = true
      allowas_in_number       = 3
      address_families = [
        {
          family_type                    = "ipv6-unicast"
          policy_type                    = "restart"
          restart_max_number_of_prefixes = 2000
          restart_threshold              = 75
          restart_interval               = 30
        }
      ]
    }
  ]
  ipv4_aggregate_addresses = [
    {
      network_address = "10.10.0.0"
      subnet_mask     = "255.255.0.0"
      as_set_path     = false
      summary_only    = false
    }
  ]
  ipv4_networks = [
    {
      network_address = "10.10.0.0"
      subnet_mask     = "255.255.0.0"
    }
  ]
  ipv4_eibgp_maximum_paths = 1
  ipv4_originate           = false
  ipv4_table_map_filter    = false
  ipv6_aggregate_addresses = [
    {
      aggregate_prefix = "3001::1/128"
      as_set_path      = false
      summary_only     = false
    }
  ]
  ipv6_networks = [
    {
      network_prefix = "2001:0DB8:0000:000b::/64"
    }
  ]
  ipv6_eibgp_maximum_paths = 2
  ipv6_originate           = true
  ipv6_table_map_filter    = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `feature_profile_id` (String) Feature Profile ID
- `name` (String) The name of the Feature

### Optional

- `always_compare_med` (Boolean) Compare MEDs from all ASs when selecting active BGP paths
  - Default value: `false`
- `always_compare_med_variable` (String) Variable name
- `as_number` (Number) Set autonomous system number <1..4294967295> or <XX.YY>
- `as_number_variable` (String) Variable name
- `compare_router_id` (Boolean) Compare router IDs when selecting active BGP paths
  - Default value: `false`
- `compare_router_id_variable` (String) Variable name
- `description` (String) The description of the Feature
- `deterministic_med` (Boolean) Compare MEDs from all routes from same AS when selecting active BGP paths
  - Default value: `false`
- `deterministic_med_variable` (String) Variable name
- `external_routes_distance` (Number) Set administrative distance for external BGP routes
  - Range: `1`-`255`
  - Default value: `20`
- `external_routes_distance_variable` (String) Variable name
- `hold_time` (Number) Interval (seconds) not receiving a keepalive message declares a BGP peer down
  - Range: `0`-`65535`
  - Default value: `180`
- `hold_time_variable` (String) Variable name
- `internal_routes_distance` (Number) Set administrative distance for internal BGP routes
  - Range: `1`-`255`
  - Default value: `200`
- `internal_routes_distance_variable` (String) Variable name
- `ipv4_aggregate_addresses` (Attributes List) Aggregate prefixes in specific range (see [below for nested schema](#nestedatt--ipv4_aggregate_addresses))
- `ipv4_eibgp_maximum_paths` (Number) Set maximum number of parallel IBGP paths for multipath load sharing
  - Range: `1`-`32`
- `ipv4_eibgp_maximum_paths_variable` (String) Variable name
- `ipv4_neighbors` (Attributes List) Set BGP IPv4 neighbors (see [below for nested schema](#nestedatt--ipv4_neighbors))
- `ipv4_networks` (Attributes List) Configure the networks for BGP to advertise (see [below for nested schema](#nestedatt--ipv4_networks))
- `ipv4_originate` (Boolean) BGP Default Information Originate
  - Default value: `false`
- `ipv4_originate_variable` (String) Variable name
- `ipv4_redistributes` (Attributes List) Redistribute routes into BGP (see [below for nested schema](#nestedatt--ipv4_redistributes))
- `ipv4_table_map_filter` (Boolean) Table map filtered or not
  - Default value: `false`
- `ipv4_table_map_filter_variable` (String) Variable name
- `ipv4_table_map_route_policy_id` (String)
- `ipv6_aggregate_addresses` (Attributes List) IPv6 Aggregate prefixes in specific range (see [below for nested schema](#nestedatt--ipv6_aggregate_addresses))
- `ipv6_eibgp_maximum_paths` (Number) Set maximum number of parallel IBGP paths for multipath load sharing
  - Range: `1`-`32`
- `ipv6_eibgp_maximum_paths_variable` (String) Variable name
- `ipv6_neighbors` (Attributes List) Set BGP IPv6 neighbors (see [below for nested schema](#nestedatt--ipv6_neighbors))
- `ipv6_networks` (Attributes List) Configure the networks for BGP to advertise (see [below for nested schema](#nestedatt--ipv6_networks))
- `ipv6_originate` (Boolean) BGP Default Information Originate
  - Default value: `false`
- `ipv6_originate_variable` (String) Variable name
- `ipv6_redistributes` (Attributes List) Redistribute routes into BGP (see [below for nested schema](#nestedatt--ipv6_redistributes))
- `ipv6_table_map_filter` (Boolean) Table map filtered or not
  - Default value: `false`
- `ipv6_table_map_filter_variable` (String) Variable name
- `ipv6_table_map_route_policy_id` (String)
- `keepalive_time` (Number) Interval (seconds) of keepalive messages sent to its BGP peer
  - Range: `0`-`65535`
  - Default value: `60`
- `keepalive_time_variable` (String) Variable name
- `local_routes_distance` (Number) Set administrative distance for local BGP routes
  - Range: `1`-`255`
  - Default value: `20`
- `local_routes_distance_variable` (String) Variable name
- `missing_med_as_worst` (Boolean) If path has no MED, consider it to be worst path when selecting active BGP paths
  - Default value: `false`
- `missing_med_as_worst_variable` (String) Variable name
- `multipath_relax` (Boolean) Ignore AS for multipath selection
  - Default value: `false`
- `multipath_relax_variable` (String) Variable name
- `propagate_as_path` (Boolean) Propagate AS Path
  - Default value: `false`
- `propagate_as_path_variable` (String) Variable name
- `propagate_community` (Boolean) Propagate Community
  - Default value: `false`
- `propagate_community_variable` (String) Variable name
- `router_id` (String) Configure BGP router identifier
- `router_id_variable` (String) Variable name

### Read-Only

- `id` (String) The id of the Feature
- `version` (Number) The version of the Feature

<a id="nestedatt--ipv4_aggregate_addresses"></a>
### Nested Schema for `ipv4_aggregate_addresses`

Optional:

- `as_set_path` (Boolean) Set AS set path information
  - Default value: `false`
- `as_set_path_variable` (String) Variable name
- `network_address` (String)
- `network_address_variable` (String) Variable name
- `subnet_mask` (String) - Choices: `255.255.255.255`, `255.255.255.254`, `255.255.255.252`, `255.255.255.248`, `255.255.255.240`, `255.255.255.224`, `255.255.255.192`, `255.255.255.128`, `255.255.255.0`, `255.255.254.0`, `255.255.252.0`, `255.255.248.0`, `255.255.240.0`, `255.255.224.0`, `255.255.192.0`, `255.255.128.0`, `255.255.0.0`, `255.254.0.0`, `255.252.0.0`, `255.240.0.0`, `255.224.0.0`, `255.192.0.0`, `255.128.0.0`, `255.0.0.0`, `254.0.0.0`, `252.0.0.0`, `248.0.0.0`, `240.0.0.0`, `224.0.0.0`, `192.0.0.0`, `128.0.0.0`, `0.0.0.0`
- `subnet_mask_variable` (String) Variable name
- `summary_only` (Boolean) Filter out more specific routes from updates
  - Default value: `false`
- `summary_only_variable` (String) Variable name


<a id="nestedatt--ipv4_neighbors"></a>
### Nested Schema for `ipv4_neighbors`

Optional:

- `address` (String) Set neighbor address
- `address_families` (Attributes List) Set BGP address family (see [below for nested schema](#nestedatt--ipv4_neighbors--address_families))
- `address_variable` (String) Variable name
- `allowas_in_number` (Number) The number of accept as-path with my AS present in it
  - Range: `1`-`10`
- `allowas_in_number_variable` (String) Variable name
- `as_override` (Boolean) Override matching AS-number while sending update
  - Default value: `false`
- `as_override_variable` (String) Variable name
- `description` (String) Set description
- `description_variable` (String) Variable name
- `ebgp_multihop` (Number) Set TTL value for peers that are not directly connected
  - Range: `1`-`255`
  - Default value: `1`
- `ebgp_multihop_variable` (String) Variable name
- `hold_time` (Number) Interval (seconds) not receiving a keepalive message declares a BGP peer down
  - Range: `0`-`65535`
  - Default value: `180`
- `hold_time_variable` (String) Variable name
- `keepalive_time` (Number) Interval (seconds) of keepalive messages sent to its BGP peer
  - Range: `0`-`65535`
  - Default value: `60`
- `keepalive_time_variable` (String) Variable name
- `local_as` (Number) Set local autonomous number,Local-AS cannot have the local BGP protocol AS number or the AS number of the remote peer.The local-as is valid only if the peer is a true eBGP peer. It does not work for two peers in different sub-ASs in a confederation.
- `local_as_variable` (String) Variable name
- `next_hop_self` (Boolean) Set router to be next hop for routes advertised to neighbor
  - Default value: `false`
- `next_hop_self_variable` (String) Variable name
- `password` (String) Set MD5 password on TCP connection with BGP peer
- `password_variable` (String) Variable name
- `remote_as` (Number) Set remote autonomous system number
- `remote_as_variable` (String) Variable name
- `send_community` (Boolean) Send community attribute
  - Default value: `true`
- `send_community_variable` (String) Variable name
- `send_extended_community` (Boolean) Send extended community attribute
  - Default value: `true`
- `send_extended_community_variable` (String) Variable name
- `send_label` (Boolean) Send label
  - Default value: `false`
- `send_label_variable` (String) Variable name
- `shutdown` (Boolean) Enable or disable a BGP neighbor
  - Default value: `false`
- `shutdown_variable` (String) Variable name
- `update_source_interface` (String) Source interface name for BGP neighbor
- `update_source_interface_variable` (String) Variable name

<a id="nestedatt--ipv4_neighbors--address_families"></a>
### Nested Schema for `ipv4_neighbors.address_families`

Optional:

- `disable_peer_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `disable-peer`
  - Range: `1`-`4294967295`
- `disable_peer_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `disable-peer`
- `disable_peer_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `disable-peer`
  - Range: `1`-`100`
  - Default value: `75`
- `disable_peer_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `disable-peer`
- `family_type` (String) Set IPv4 unicast address family
- `in_route_policy_id` (String)
- `out_route_policy_id` (String)
- `policy_type` (String) Neighbor received maximum prefix policy is disabled.
  - Choices: `restart`, `off`, `warning-only`, `disable-peer`
- `restart_interval` (Number) Set the restart interval(minutes) when to restart BGP connection if threshold is exceeded, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`65535`
- `restart_interval_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `restart_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`4294967295`
- `restart_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `restart_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`100`
  - Default value: `75`
- `restart_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `warning_message_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `warning-only`
  - Range: `1`-`4294967295`
- `warning_message_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `warning-only`
- `warning_message_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `warning-only`
  - Range: `1`-`100`
  - Default value: `75`
- `warning_message_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `warning-only`



<a id="nestedatt--ipv4_networks"></a>
### Nested Schema for `ipv4_networks`

Optional:

- `network_address` (String)
- `network_address_variable` (String) Variable name
- `subnet_mask` (String) - Choices: `255.255.255.255`, `255.255.255.254`, `255.255.255.252`, `255.255.255.248`, `255.255.255.240`, `255.255.255.224`, `255.255.255.192`, `255.255.255.128`, `255.255.255.0`, `255.255.254.0`, `255.255.252.0`, `255.255.248.0`, `255.255.240.0`, `255.255.224.0`, `255.255.192.0`, `255.255.128.0`, `255.255.0.0`, `255.254.0.0`, `255.252.0.0`, `255.240.0.0`, `255.224.0.0`, `255.192.0.0`, `255.128.0.0`, `255.0.0.0`, `254.0.0.0`, `252.0.0.0`, `248.0.0.0`, `240.0.0.0`, `224.0.0.0`, `192.0.0.0`, `128.0.0.0`, `0.0.0.0`
- `subnet_mask_variable` (String) Variable name


<a id="nestedatt--ipv4_redistributes"></a>
### Nested Schema for `ipv4_redistributes`

Optional:

- `protocol` (String) Set the protocol to redistribute routes from
  - Choices: `static`, `connected`, `omp`, `nat`, `ospf`, `ospfv3`, `eigrp`
- `protocol_variable` (String) Variable name
- `route_policy_id` (String)
- `translate_rib_metric` (Boolean) Translate Rib Metric, Attribute conditional on `protocol` being equal to `omp`
  - Default value: `false`


<a id="nestedatt--ipv6_aggregate_addresses"></a>
### Nested Schema for `ipv6_aggregate_addresses`

Optional:

- `aggregate_prefix` (String) Configure the IPv6 prefixes to aggregate
- `aggregate_prefix_variable` (String) Variable name
- `as_set_path` (Boolean) Set AS set path information
  - Default value: `false`
- `as_set_path_variable` (String) Variable name
- `summary_only` (Boolean) Filter out more specific routes from updates
  - Default value: `false`
- `summary_only_variable` (String) Variable name


<a id="nestedatt--ipv6_neighbors"></a>
### Nested Schema for `ipv6_neighbors`

Optional:

- `address` (String) Set IPv6 neighbor address
- `address_families` (Attributes List) Set IPv6 BGP address family (see [below for nested schema](#nestedatt--ipv6_neighbors--address_families))
- `address_variable` (String) Variable name
- `allowas_in_number` (Number) The number of accept as-path with my AS present in it
  - Range: `1`-`10`
- `allowas_in_number_variable` (String) Variable name
- `as_override` (Boolean) Override matching AS-number while sending update
  - Default value: `false`
- `as_override_variable` (String) Variable name
- `description` (String) Set description
- `description_variable` (String) Variable name
- `ebgp_multihop` (Number) Set TTL value for peers that are not directly connected
  - Range: `1`-`255`
  - Default value: `1`
- `ebgp_multihop_variable` (String) Variable name
- `hold_time` (Number) Set how long to wait since receiving a keepalive message to consider BGP peer unavailable
  - Range: `0`-`65535`
  - Default value: `180`
- `hold_time_variable` (String) Variable name
- `keepalive_time` (Number) Set how often to advertise keepalive messages to BGP peer
  - Range: `0`-`65535`
  - Default value: `60`
- `keepalive_time_variable` (String) Variable name
- `local_as` (Number) Set local autonomous number,Local-AS cannot have the local BGP protocol AS number or the AS number of the remote peer.The local-as is valid only if the peer is a true eBGP peer. It does not work for two peers in different sub-ASs in a confederation.
- `local_as_variable` (String) Variable name
- `next_hop_self` (Boolean) Set router to be next hop for routes advertised to neighbor
  - Default value: `false`
- `next_hop_self_variable` (String) Variable name
- `password` (String) Set MD5 password on TCP connection with BGP peer
- `password_variable` (String) Variable name
- `remote_as` (Number) Set remote autonomous system number
- `remote_as_variable` (String) Variable name
- `send_community` (Boolean) Send community attribute
  - Default value: `true`
- `send_community_variable` (String) Variable name
- `send_extended_community` (Boolean) Send extended community attribute
  - Default value: `true`
- `send_extended_community_variable` (String) Variable name
- `shutdown` (Boolean) Enable or disable a BGP neighbor
  - Default value: `false`
- `shutdown_variable` (String) Variable name
- `update_source_interface` (String) Source interface name for BGP neighbor
- `update_source_interface_variable` (String) Variable name

<a id="nestedatt--ipv6_neighbors--address_families"></a>
### Nested Schema for `ipv6_neighbors.address_families`

Optional:

- `disable_peer_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `disable-peer`
  - Range: `1`-`4294967295`
- `disable_peer_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `disable-peer`
- `disable_peer_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `disable-peer`
  - Range: `1`-`100`
  - Default value: `75`
- `disable_peer_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `disable-peer`
- `family_type` (String) Set IPv6 unicast address family
- `in_route_policy_id` (String)
- `out_route_policy_id` (String)
- `policy_type` (String) Neighbor received maximum prefix policy is disabled.
  - Choices: `restart`, `off`, `warning-only`, `disable-peer`
- `restart_interval` (Number) Set the restart interval(minutes) when to restart BGP connection if threshold is exceeded, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`65535`
- `restart_interval_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `restart_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`4294967295`
- `restart_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `restart_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `restart`
  - Range: `1`-`100`
  - Default value: `75`
- `restart_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `restart`
- `warning_message_max_number_of_prefixes` (Number) Set maximum number of prefixes accepted from BGP peer, Attribute conditional on `policy_type` being equal to `warning-only`
  - Range: `1`-`4294967295`
- `warning_message_max_number_of_prefixes_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `warning-only`
- `warning_message_threshold` (Number) Set threshold(1 to 100) at which to generate a warning message, Attribute conditional on `policy_type` being equal to `warning-only`
  - Range: `1`-`100`
  - Default value: `75`
- `warning_message_threshold_variable` (String) Variable name, Attribute conditional on `policy_type` being equal to `warning-only`



<a id="nestedatt--ipv6_networks"></a>
### Nested Schema for `ipv6_networks`

Optional:

- `network_prefix` (String) Configure the prefixes for BGP to announce
- `network_prefix_variable` (String) Variable name


<a id="nestedatt--ipv6_redistributes"></a>
### Nested Schema for `ipv6_redistributes`

Optional:

- `protocol` (String) Set the protocol to redistribute routes from
  - Choices: `static`, `connected`, `ospf`, `omp`
- `protocol_variable` (String) Variable name
- `route_policy_id` (String)
- `translate_rib_metric` (Boolean) Translate Rib Metric, Attribute conditional on `protocol` being equal to `omp`
  - Default value: `false`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Expected import identifier with the format: "service_routing_bgp_feature_id,feature_profile_id"
terraform import sdwan_service_routing_bgp_feature.example "f6b2c44c-693c-4763-b010-895aa3d236bd,f6dd22c8-0b4f-496c-9a0b-6813d1f8b8ac"
```
