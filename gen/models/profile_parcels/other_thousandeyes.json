{
  "request": {
      "$schema": "http://json-schema.org/draft/2019-09/schema",
      "$id": "https://cisco.com/schema/profileparcel/sdwan/other/thousandeyes/post/request_schema.json",
      "title": "thousandeyes Parcel Schema",
      "description": "thousandeyes profile parcel schema for POST request",
      "type": "object",
      "properties": {
          "name": {
              "type": "string",
              "pattern": "^[^&<>! \"]+$",
              "minLength": 1,
              "maxLength": 128
          },
          "description": {
              "type": "string"
          },
          "data": {
              "type": "object",
              "properties": {
                  "virtualApplication": {
                      "description": "Virtual application Instance",
                      "type": "array",
                      "uniqueItems": true,
                      "minItems": 1,
                      "maxItems": 1,
                      "items": {
                          "type": "object",
                          "properties": {
                              "token": {
                                  "description": "Set the Account Group Token",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "minLength": 1,
                                                  "type": "string",
                                                  "maxLength": 210
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "vpn": {
                                  "description": "VPN number",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "integer",
                                                  "minimum": 0,
                                                  "maximum": 65530
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "default"
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "optionType"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "teMgmtIp": {
                                  "description": "Set the Agent IP Address",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "format": "ipv4"
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "teMgmtSubnetMask": {
                                  "description": "Set the Agent SubnetMask",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "enum": [
                                                      "255.255.255.255",
                                                      "255.255.255.254",
                                                      "255.255.255.252",
                                                      "255.255.255.248",
                                                      "255.255.255.240",
                                                      "255.255.255.224",
                                                      "255.255.255.192",
                                                      "255.255.255.128",
                                                      "255.255.255.0",
                                                      "255.255.254.0",
                                                      "255.255.252.0",
                                                      "255.255.248.0",
                                                      "255.255.240.0",
                                                      "255.255.224.0",
                                                      "255.255.192.0",
                                                      "255.255.128.0",
                                                      "255.255.0.0",
                                                      "255.254.0.0",
                                                      "255.252.0.0",
                                                      "255.240.0.0",
                                                      "255.224.0.0",
                                                      "255.192.0.0",
                                                      "255.128.0.0",
                                                      "255.0.0.0",
                                                      "254.0.0.0",
                                                      "252.0.0.0",
                                                      "248.0.0.0",
                                                      "240.0.0.0",
                                                      "224.0.0.0",
                                                      "192.0.0.0",
                                                      "128.0.0.0",
                                                      "0.0.0.0"
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "teVpgIp": {
                                  "description": "Set the Agent default gateway",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "format": "ipv4"
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "nameServer": {
                                  "description": "Set the name server",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "format": "ipv4"
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "default"
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "optionType"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "hostname": {
                                  "description": "Set the host name",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "global"
                                                  ]
                                              },
                                              "value": {
                                                  "minLength": 1,
                                                  "type": "string",
                                                  "maxLength": 235
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "variable"
                                                  ]
                                              },
                                              "value": {
                                                  "type": "string",
                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                  "minLength": 1,
                                                  "maxLength": 64
                                              }
                                          },
                                          "required": [
                                              "optionType",
                                              "value"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "optionType": {
                                                  "type": "string",
                                                  "enum": [
                                                      "default"
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "optionType"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              },
                              "proxyConfig": {
                                  "description": "Web Proxy Type Config",
                                  "type": "object",
                                  "oneOf": [
                                      {
                                          "properties": {
                                              "proxyType": {
                                                  "description": "Select Web Proxy Type",
                                                  "type": "object",
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      },
                                                      "value": {
                                                          "const": "static"
                                                      }
                                                  },
                                                  "required": [
                                                      "optionType",
                                                      "value"
                                                  ],
                                                  "additionalProperties": false
                                              },
                                              "proxyHost": {
                                                  "description": "Set the Proxy Host",
                                                  "type": "object",
                                                  "oneOf": [
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "global"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "minLength": 1,
                                                                  "type": "string",
                                                                  "maxLength": 174
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      },
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "variable"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "type": "string",
                                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                                  "minLength": 1,
                                                                  "maxLength": 64
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      }
                                                  ]
                                              },
                                              "proxyPort": {
                                                  "description": "Set the Proxy Port",
                                                  "type": "object",
                                                  "oneOf": [
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "global"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "minimum": 1,
                                                                  "maximum": 65535,
                                                                  "type": "integer"
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      },
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "variable"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "type": "string",
                                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                                  "minLength": 1,
                                                                  "maxLength": 64
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      }
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "proxyType",
                                              "proxyHost",
                                              "proxyPort"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "proxyType": {
                                                  "description": "Select Web Proxy Type",
                                                  "type": "object",
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      },
                                                      "value": {
                                                          "const": "pac"
                                                      }
                                                  },
                                                  "required": [
                                                      "optionType",
                                                      "value"
                                                  ],
                                                  "additionalProperties": false
                                              },
                                              "pacUrl": {
                                                  "description": "Set the proxy PAC url",
                                                  "type": "object",
                                                  "oneOf": [
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "global"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "minLength": 1,
                                                                  "type": "string",
                                                                  "maxLength": 183
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      },
                                                      {
                                                          "properties": {
                                                              "optionType": {
                                                                  "type": "string",
                                                                  "enum": [
                                                                      "variable"
                                                                  ]
                                                              },
                                                              "value": {
                                                                  "type": "string",
                                                                  "pattern": "^\\{\\{[.\/\\[\\]a-zA-Z0-9_-]+\\}\\}$",
                                                                  "minLength": 1,
                                                                  "maxLength": 64
                                                              }
                                                          },
                                                          "required": [
                                                              "optionType",
                                                              "value"
                                                          ],
                                                          "additionalProperties": false
                                                      }
                                                  ]
                                              }
                                          },
                                          "required": [
                                              "proxyType",
                                              "pacUrl"
                                          ],
                                          "additionalProperties": false
                                      },
                                      {
                                          "properties": {
                                              "proxyType": {
                                                  "description": "Select Web Proxy Type",
                                                  "type": "object",
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      },
                                                      "value": {
                                                          "const": "none"
                                                      }
                                                  },
                                                  "required": [
                                                      "optionType",
                                                      "value"
                                                  ],
                                                  "additionalProperties": false
                                              }
                                          },
                                          "required": [
                                              "proxyType"
                                          ],
                                          "additionalProperties": false
                                      }
                                  ]
                              }
                          },
                          "required": [
                              "token",
                              "proxyConfig"
                          ],
                          "additionalProperties": false,
                          "dependencies": {
                              "teMgmtIp": {
                                  "properties": {
                                      "vpn": {
                                          "type": "object",
                                          "oneOf": [
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      }
                                                  }
                                              },
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "variable"
                                                          ]
                                                      }
                                                  }
                                              }
                                          ]
                                      }
                                  }
                              },
                              "teMgmtSubnetMask": {
                                  "properties": {
                                      "vpn": {
                                          "type": "object",
                                          "oneOf": [
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      }
                                                  }
                                              },
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "variable"
                                                          ]
                                                      }
                                                  }
                                              }
                                          ]
                                      }
                                  }
                              },
                              "teVpgIp": {
                                  "properties": {
                                      "vpn": {
                                          "type": "object",
                                          "oneOf": [
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "global"
                                                          ]
                                                      }
                                                  }
                                              },
                                              {
                                                  "properties": {
                                                      "optionType": {
                                                          "type": "string",
                                                          "enum": [
                                                              "variable"
                                                          ]
                                                      }
                                                  }
                                              }
                                          ]
                                      }
                                  }
                              }
                          },
                          "allOf": [
                              {
                                  "if": {
                                      "properties": {
                                          "teMgmtIp": {
                                              "type": "object",
                                              "properties": {
                                                  "optionType": {
                                                      "type": "string",
                                                      "enum": [
                                                          "global"
                                                      ]
                                                  }
                                              }
                                          }
                                      }
                                  },
                                  "then": {
                                      "properties": {
                                          "teMgmtSubnetMask": {
                                              "type": "object",
                                              "properties": {
                                                  "optionType": {
                                                      "type": "string",
                                                      "enum": [
                                                          "global"
                                                      ]
                                                  }
                                              }
                                          }
                                      }
                                  }
                              },
                              {
                                  "if": {
                                      "properties": {
                                          "teMgmtIp": {
                                              "type": "object",
                                              "properties": {
                                                  "optionType": {
                                                      "type": "string",
                                                      "enum": [
                                                          "variable"
                                                      ]
                                                  }
                                              }
                                          }
                                      }
                                  },
                                  "then": {
                                      "properties": {
                                          "teMgmtSubnetMask": {
                                              "type": "object",
                                              "properties": {
                                                  "optionType": {
                                                      "type": "string",
                                                      "enum": [
                                                          "variable"
                                                      ]
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          ]
                      }
                  }
              },
              "required": [],
              "additionalProperties": false
          },
          "metadata": {
              "supportedDeviceTypes": [
                  "vedge-ISR-4221X",
                  "vedge-ISR-4321",
                  "vedge-ISR-4331",
                  "vedge-ISR-4351",
                  "vedge-ISR-4431",
                  "vedge-ISR-4451-X",
                  "vedge-ISR-4461",
                  "vedge-C8200-1N-4T",
                  "vedge-C8200L-1N-4T",
                  "vedge-C8300-1N1S-4T2X",
                  "vedge-C8300-1N1S-6T",
                  "vedge-C8300-2N2S-6T",
                  "vedge-C8300-2N2S-4T2X",
                  "vedge-ISR1100X-6G-XE",
                  "vedge-C8500-12X4QC",
                  "vedge-C8500-12X",
                  "vedge-C8500L-8S4X",
                  "vedge-ASR-1001-X",
                  "vedge-ASR-1002-X",
                  "vedge-ASR-1006-X",
                  "vedge-ASR-1001-HX",
                  "vedge-ASR-1002-HX"
              ]
          },
          "documentation": {
              "description": "This is the documentation for POST request schema for thousandeyes profile parcel",
              "details-1": "variable name should be present with given format as specified in schema if optionType value is variable",
              "details-2": "variable name should not be present if optionType value is NOT variable",
              "details-3": "when option Type is global,  value should be present with given format/restrictions as specified in schema",
              "details-4": "when option Type is default, value should be present with given default value as specified in schema",
              "examples": [
                  {
                      "data": {
                          "virtualApplication": [
                              {
                                  "token": {
                                      "optionType": "global",
                                      "value": "qwer"
                                  },
                                  "vpn": {
                                      "optionType": "global",
                                      "value": 1
                                  },
                                  "teMgmtIp": {
                                      "optionType": "global",
                                      "value": "10.0.0.2"
                                  },
                                  "teMgmtSubnetMask": {
                                      "optionType": "global",
                                      "value": "255.255.255.0"
                                  },
                                  "teVpgIp": {
                                      "optionType": "global",
                                      "value": "10.0.0.1"
                                  },
                                  "nameServer": {
                                      "optionType": "global",
                                      "value": "77.77.77.71"
                                  },
                                  "hostname": {
                                      "optionType": "global",
                                      "value": "thousandeyesHost"
                                  },
                                  "proxyConfig": {
                                      "proxyType": {
                                          "optionType": "global",
                                          "value": "static"
                                      },
                                      "proxyHost": {
                                          "optionType": "global",
                                          "value": "proxy.thousandeyes.com"
                                      },
                                      "proxyPort": {
                                          "optionType": "global",
                                          "value": 3128
                                      }
                                  }
                              }
                          ]
                      },
                      "description": "Cedge Other thousandeyes Parcel config",
                      "name": "thousandeyesParcelGlobalDefault"
                  }
              ]
          }
      },
      "required": [
          "data"
      ],
      "not": {
          "required": [
              "metadata",
              "documentation"
          ]
      },
      "additionalProperties": false
  }
}
